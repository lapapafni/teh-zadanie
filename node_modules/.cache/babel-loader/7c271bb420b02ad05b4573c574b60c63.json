{"ast":null,"code":"var _jsxFileName = \"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/src/pages/tasksPage.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useCallback, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { ModalWindow } from '../component/modal';\nimport { Paginate } from \"../component/paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TasksPage = () => {\n  _s();\n\n  const [tasksData, setTasksData] = useState([]);\n  const [showData, setShowData] = useState({\n    show: false,\n    message: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [numTasks, setNumTasks] = useState(0);\n  const [page, setPage] = useState(1);\n  const getTask = useCallback(async () => {\n    try {\n      setLoading(true);\n      await axios.get(`https://uxcandy.com/~shapoval/test-task-backend/v2/?developer=ilia&page=${page}`).then(response => {\n        setLoading(false);\n        setTasksData(response.data.message.tasks);\n        setNumTasks(response.data.message.total_task_count);\n        setShowData({\n          show: true,\n          message: response.data.message\n        });\n      }, [page]);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [page]);\n\n  const nextPage = () => setPage(prev => prev + 1);\n\n  const previewPage = () => setPage(prev => prev - 1);\n\n  const handleClose = () => setShowData({\n    show: false,\n    message: ''\n  });\n\n  useEffect(() => {\n    getTask();\n  }, [getTask]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"progress\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (tasksData.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(ModalWindow, {\n        message: showData.message,\n        show: showData.show,\n        handleClose: handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), tasksData.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: task.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"card-subtitle mb-2 text-muted\",\n            children: task.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"card-subtitle mb-2 text-muted\",\n            children: [\"\\u0421\\u0442\\u0430\\u0441\\u0442\\u0443\\u0441: \", task.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: task.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"btn btn-primary\",\n            to: `/edit/${task.id}`,\n            style: {\n              position: 'absolute',\n              right: 20,\n              top: 50\n            },\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, task.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 20\n      }, this)), /*#__PURE__*/_jsxDEV(Paginate, {\n        page: page,\n        numTasks: numTasks,\n        nextButton: nextPage,\n        previewButton: previewPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0417\\u0430\\u0434\\u0430\\u0447 \\u043D\\u0435\\u0442, \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 12\n  }, this);\n};\n\n_s(TasksPage, \"pDDJQuztjh4QKPIfmWYE0CTe+Qs=\");\n\n_c = TasksPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TasksPage\");","map":{"version":3,"sources":["/home/ilia/Проекты-коддинг/файлы жс/client/src/pages/tasksPage.js"],"names":["axios","useState","useCallback","useEffect","Link","ModalWindow","Paginate","TasksPage","tasksData","setTasksData","showData","setShowData","show","message","loading","setLoading","numTasks","setNumTasks","page","setPage","getTask","get","then","response","data","tasks","total_task_count","e","console","log","nextPage","prev","previewPage","handleClose","length","paddingTop","map","task","marginTop","username","email","status","text","id","position","right","top"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {useState, useCallback, useEffect} from \"react\"\nimport {Link} from 'react-router-dom'\nimport {ModalWindow} from '../component/modal'\nimport {Paginate} from \"../component/paginate\"\n\nexport const TasksPage = () => {\n    const [tasksData, setTasksData] = useState([])\n    const [showData, setShowData] = useState({show: false, message: ''})\n    const [loading, setLoading] = useState(false)\n    const [numTasks, setNumTasks] = useState(0)\n    const [page, setPage] = useState(1)\n\n    const getTask = useCallback(async () => {\n        try{\n            setLoading(true)\n            await axios.get(\n                `https://uxcandy.com/~shapoval/test-task-backend/v2/?developer=ilia&page=${page}`\n                ).then((response) => {\n                    setLoading(false)\n                    setTasksData(response.data.message.tasks)\n                    setNumTasks(response.data.message.total_task_count)\n                    setShowData({show:true, message:response.data.message})\n                    \n                }, [page])  \n\n        }catch(e){console.log(e)}\n\n    }, [page])\n\n    const nextPage = () => setPage(prev => prev+1)\n    const previewPage = () => setPage(prev => prev-1)\n\n    const handleClose = () => setShowData({show:false, message:''})\n\n    useEffect(() => {\n        getTask()\n    }, [getTask])\n\n\n    if(loading){\n        return <progress />\n    }\n\n\n    if(tasksData.length){\n\n        return (\n            <div style={{paddingTop: 50}}>\n                <ModalWindow \n                    message={showData.message}\n                    show={showData.show}\n                    handleClose={handleClose}\n                />\n                <h1>Задачи</h1>\n                {tasksData.map((task) => \n                   <div className=\"card\" style={{marginTop: 10}} key={task.id}>\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">{task.username}</h5>\n                      <h6 className=\"card-subtitle mb-2 text-muted\">{task.email}</h6>\n                      <h6 className=\"card-subtitle mb-2 text-muted\">Стастус: {task.status}</h6>\n                      <p className=\"card-text\">{task.text}</p>\n                      <Link className='btn btn-primary' to={`/edit/${task.id}`} style={{position: 'absolute', right:20, top:50}}>Редактировать</Link>\n                    </div>\n                  </div>\n                )}\n                <Paginate\n                page={page}\n                numTasks={numTasks}\n                nextButton={nextPage}\n                previewButton={previewPage}\n                />\n            </div>\n            \n        )\n    }\n    \n    return <p>Задач нет, добавляйте</p>\n}\n        \n"]},"metadata":{},"sourceType":"module"}