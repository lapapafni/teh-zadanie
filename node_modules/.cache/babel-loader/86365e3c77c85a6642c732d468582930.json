{"ast":null,"code":"var _jsxFileName = \"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/\\u0442\\u0435\\u0445-\\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0435/client/src/pages/tasksPage.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useState, useCallback, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TasksPage = () => {\n  _s();\n\n  const [tasksData, setTasksData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const pageNum = 1;\n  const getTask = useCallback(async function () {\n    let pageNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : pageNum;\n\n    try {\n      setLoading(true);\n      await axios.get(`/api/tasks/?page=${pageNumber}`, {}).then(response => {\n        setLoading(false);\n        setTasksData(response.data.message.tasks);\n      }, []);\n    } catch (e) {}\n  }, []);\n  useEffect(() => {\n    getTask();\n  }, [getTask]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"progress\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (tasksData.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), tasksData.map(task => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          style: {\n            width: \"18rem;\",\n            marginTop: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              class: \"card-title\",\n              children: task.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              class: \"card-subtitle mb-2 text-muted\",\n              children: task.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"card-text\",\n              children: task.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => getTask(pageNum - 1),\n        children: \"Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => getTask(pageNum + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0417\\u0430\\u0434\\u0430\\u0447 \\u043D\\u0435\\u0442, \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 12\n  }, this);\n};\n\n_s(TasksPage, \"xYgxWmoHh2K+puLNQ5qHuViNKdk=\");\n\n_c = TasksPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TasksPage\");","map":{"version":3,"sources":["/home/ilia/Проекты-коддинг/файлы жс/тех-задание/client/src/pages/tasksPage.js"],"names":["axios","useState","useCallback","useEffect","TasksPage","tasksData","setTasksData","loading","setLoading","pageNum","getTask","pageNumber","get","then","response","data","message","tasks","e","length","paddingTop","map","task","width","marginTop","username","email","text","id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,WAAlB,EAA+BC,SAA/B,QAA+C,OAA/C;;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAMQ,OAAO,GAAG,CAAhB;AACA,QAAMC,OAAO,GAAGR,WAAW,CAAC,kBAA8B;AAAA,QAAvBS,UAAuB,uEAAZF,OAAY;;AACtD,QAAG;AACCD,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMR,KAAK,CAACY,GAAN,CACD,oBAAmBD,UAAW,EAD7B,EAEF,EAFE,EAGAE,IAHA,CAGMC,QAAD,IAAc;AACjBN,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,QAAAA,YAAY,CAACQ,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBC,KAAvB,CAAZ;AAEH,OAPC,EAOC,EAPD,CAAN;AAWH,KAbD,CAaC,OAAMC,CAAN,EAAQ,CAAE;AAEd,GAhB0B,EAgBxB,EAhBwB,CAA3B;AAkBAf,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,OAAO;AACV,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;;AAKA,MAAGH,OAAH,EAAW;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAGD,MAAGF,SAAS,CAACc,MAAb,EAAoB;AAChB,wBACA;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb,OAAZ;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAGKf,SAAS,CAACgB,GAAV,CAAeC,IAAD,IAAU;AACrB,4BAEI;AAAK,UAAA,KAAK,EAAC,MAAX;AAAkB,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAE,QAAR;AAAkBC,YAAAA,SAAS,EAAE;AAA7B,WAAzB;AAAA,iCACI;AAAK,YAAA,KAAK,EAAC,WAAX;AAAA,oCACI;AAAI,cAAA,KAAK,EAAC,YAAV;AAAA,wBAAwBF,IAAI,CAACG;AAA7B;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEQ;AAAI,cAAA,KAAK,EAAC,+BAAV;AAAA,wBAA2CH,IAAI,CAACI;AAAhD;AAAA;AAAA;AAAA;AAAA,oBAFR,eAGQ;AAAG,cAAA,KAAK,EAAC,WAAT;AAAA,wBAAsBJ,IAAI,CAACK;AAA3B;AAAA;AAAA;AAAA;AAAA,oBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,WAAgEL,IAAI,CAACM,EAArE;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAUH,OAXA,CAHL,eAeI;AAAQ,QAAA,OAAO,EAAE,MAAMlB,OAAO,CAACD,OAAO,GAAC,CAAT,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfJ,eAgBI;AAAQ,QAAA,OAAO,EAAE,MAAMC,OAAO,CAACD,OAAO,GAAC,CAAT,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADA;AAoBH;;AAED,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAzDM;;GAAML,S;;KAAAA,S","sourcesContent":["import axios from 'axios'\nimport {useState, useCallback, useEffect} from \"react\"\n\nexport const TasksPage = () => {\n    const [tasksData, setTasksData] = useState([])\n    const [loading, setLoading] = useState(false)\n\n    const pageNum = 1\n    const getTask = useCallback(async (pageNumber=pageNum) => {\n        try{\n            setLoading(true)\n            await axios.get(\n                `/api/tasks/?page=${pageNumber}`, \n                {},\n                ).then((response) => {\n                    setLoading(false)\n                    setTasksData(response.data.message.tasks)\n                    \n                }, [])  \n                \n\n\n        }catch(e){}\n\n    }, [])\n\n    useEffect(() => {\n        getTask()\n    }, [getTask])\n\n\n    if(loading){\n        return <progress />\n    }\n\n\n    if(tasksData.length){\n        return (\n        <div style={{paddingTop: 50}}>\n            <h1>Задачи</h1>\n\n            {tasksData.map((task) => {\n                return (\n\n                    <div class=\"card\" style={{width: \"18rem;\", marginTop: 10}} key={task.id}>\n                        <div class=\"card-body\">\n                            <h5 class=\"card-title\">{task.username}</h5>\n                                <h6 class=\"card-subtitle mb-2 text-muted\">{task.email}</h6>\n                                <p class=\"card-text\">{task.text}</p>\n                        </div>\n                    </div>\n                )\n            })}\n            <button onClick={() => getTask(pageNum-1)}>Preview</button>\n            <button onClick={() => getTask(pageNum+1)}>Next</button>\n        </div>\n        )\n    }\n    \n    return <p>Задач нет, добавляйте</p>\n}\n        \n"]},"metadata":{},"sourceType":"module"}