{"ast":null,"code":"import _asyncToGenerator from\"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/ilia/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B-\\u043A\\u043E\\u0434\\u0434\\u0438\\u043D\\u0433/\\u0444\\u0430\\u0439\\u043B\\u044B \\u0436\\u0441/client/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from'react';import axios from'axios';import{ModalWindow}from'../component/modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreatePage=function CreatePage(){var _useState=useState({username:'',email:'',text:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),errorUsername=_useState4[0],setErrorUsername=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorEmail=_useState6[0],setErrorEmail=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),errorText=_useState8[0],setErrorText=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show=_useState10[0],setShow=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),validateEmail=_useState12[0],setValidateEmail=_useState12[1];var changeHandler=function changeHandler(event){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));var re=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;if(!re.test(String(event.target.value).toLowerCase())&&event.target.name==='email'){setValidateEmail(true);}else setValidateEmail(false);};var blurHadler=function blurHadler(event){switch(event.target.name){case'username':if(!form.username){setErrorUsername(true);}else setErrorUsername(false);break;case'email':if(!form.email){setErrorEmail(true);}else setErrorEmail(false);break;case'text':if(!form.text){setErrorText(true);}else setErrorText(false);break;default:setErrorText(false);setErrorEmail(false);setErrorUsername(false);}};var pressHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;formData=new FormData();formData.append(\"username\",form.username);formData.append(\"email\",form.email);formData.append(\"text\",form.text);_context.next=7;return axios({url:'https://uxcandy.com/~shapoval/test-task-backend/v2/create?developer=ilia',crossDomain:true,method:'POST',mimeType:\"multipart/form-data\",contentType:false,processData:false,data:formData,dataType:\"json\"}).then(function(){setShow(true);});case 7:_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function pressHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{style:{paddingTop:100,maxWidth:500,margin:'auto'},children:[/*#__PURE__*/_jsx(ModalWindow,{show:show,message:'Задача была успешно создана',handleClose:function handleClose(){return setShow(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput2\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onBlur:blurHadler,type:\"text\",className:\"form-control\",name:\"username\",id:\"exampleFormControlInput2\",onChange:changeHandler}),errorUsername&&/*#__PURE__*/_jsx(\"div\",{id:\"usernameHelp\",className:\"form-text red\",children:\"\\u041F\\u043E\\u043B\\u0435 \\u0441 \\u0438\\u043C\\u0435\\u043D\\u0435\\u043C \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{onBlur:blurHadler,type:\"email\",className:\"form-control\",name:\"email\",id:\"exampleFormControlInput1\",placeholder:\"name@example.com\",onChange:changeHandler}),errorEmail&&/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text red\",children:\"\\u041F\\u043E\\u043B\\u0435 \\u0441 email \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043E\"}),validateEmail&&/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text red\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0435\\u043D \\u043D\\u0435\\u043A\\u043E\\u0440\\u0440\\u0435\\u043A\\u0442\\u043D\\u044B\\u0439 email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlTextarea1\",className:\"form-label\",children:\"Text\"}),/*#__PURE__*/_jsx(\"textarea\",{onBlur:blurHadler,className:\"form-control\",name:\"text\",id:\"exampleFormControlTextarea1\",rows:\"3\",onChange:changeHandler}),errorText&&/*#__PURE__*/_jsx(\"div\",{id:\"usernameHelp\",className:\"form-text red\",children:\"\\u041D\\u0443\\u0436\\u043D\\u043E \\u043D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0442\\u0435\\u043A\\u0441\\u0442 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438 \\u0434\\u043B\\u044F \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",disabled:!form.username||!form.text||!form.email||validateEmail,onClick:pressHandler,type:\"button\",children:\"Sign in\"})]});};","map":{"version":3,"sources":["/home/ilia/Проекты-коддинг/файлы жс/client/src/pages/createPage.js"],"names":["useState","axios","ModalWindow","CreatePage","username","email","text","form","setForm","errorUsername","setErrorUsername","errorEmail","setErrorEmail","errorText","setErrorText","show","setShow","validateEmail","setValidateEmail","changeHandler","event","target","name","value","re","test","String","toLowerCase","blurHadler","pressHandler","formData","FormData","append","url","crossDomain","method","mimeType","contentType","processData","data","dataType","then","paddingTop","maxWidth","margin"],"mappings":"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","sourcesContent":["import {useState} from 'react'\nimport axios from 'axios'\nimport {ModalWindow} from '../component/modal'\n\n\nexport const CreatePage = () => {\n\n    const [form, setForm] = useState({\n        username: '', email: '', text: ''\n    })\n\n    \n    const [errorUsername, setErrorUsername] = useState(false)\n    const [errorEmail, setErrorEmail] = useState(false)\n    const [errorText, setErrorText] = useState(false)\n    const [show, setShow] = useState(false)\n    const [validateEmail, setValidateEmail] = useState(false)\n    const changeHandler = (event) => {\n        setForm({...form, [event.target.name]: event.target.value})\n        var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n         if(!re.test(String(event.target.value).toLowerCase()) && event.target.name === 'email'){\n            setValidateEmail(true)\n         }else setValidateEmail(false)\n    }\n\n    \n        \n      \n\n\n    const blurHadler = (event) => {\n        switch(event.target.name){\n            case 'username':\n                if(!form.username){\n                    setErrorUsername(true)\n                }else setErrorUsername(false) \n                \n                break\n            case 'email':\n                if(!form.email){\n                    setErrorEmail(true)\n                }else setErrorEmail(false)\n                break\n\n            case 'text':\n                if(!form.text){\n                    setErrorText(true)\n                }else setErrorText(false)\n                break\n            default:\n                setErrorText(false)\n                setErrorEmail(false)\n                setErrorUsername(false)\n\n        }\n    }\n\n    const pressHandler = async () => {\n        try{\n\n            const formData = new FormData();\n                formData.append(\"username\", form.username);\n                formData.append(\"email\", form.email);\n                formData.append(\"text\", form.text);\n\n            await axios({\n                url: 'https://uxcandy.com/~shapoval/test-task-backend/v2/create?developer=ilia',\n                crossDomain: true,\n                    method: 'POST',\n                    mimeType: \"multipart/form-data\",\n                    contentType: false,\n                    processData: false,\n                    data: formData,\n                    dataType: \"json\",\n            }).then(() => {\n                setShow(true)\n            })\n            \n            \n        }catch(e){}\n    }\n\n    \n\n    return (\n        <form style={{paddingTop: 100, maxWidth: 500, margin: 'auto'}} >\n            <ModalWindow \n            show={show}\n            message={'Задача была успешно создана'}\n            handleClose={() => setShow(false)}\n            />\n            <div className=\"mb-3\">\n                <label htmlFor=\"exampleFormControlInput2\" className=\"form-label\">Username</label>\n                <input onBlur={blurHadler} type=\"text\" className=\"form-control\" name='username' id=\"exampleFormControlInput2\" onChange={changeHandler} />\n                {errorUsername && <div id=\"usernameHelp\" className=\"form-text red\">Поле с именем должно быть обязательно заполнено</div>}\n            </div>\n            <div className=\"mb-3\">\n                <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">Email </label>\n                <input onBlur={blurHadler} type=\"email\" className=\"form-control\" name='email' id=\"exampleFormControlInput1\" placeholder=\"name@example.com\" onChange={changeHandler}/>\n                {errorEmail && <div id=\"emailHelp\" className=\"form-text red\">Поле с email должно быть обязательно заполнено</div>}\n                {validateEmail && <div id=\"emailHelp\" className=\"form-text red\">Введен некорректный email</div>}\n            </div>\n            <div className=\"mb-3\">\n                <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">Text</label>\n                <textarea onBlur={blurHadler} className=\"form-control\" name='text' id=\"exampleFormControlTextarea1\" rows=\"3\" onChange={changeHandler}/>\n                {errorText && <div id=\"usernameHelp\" className=\"form-text red\">Нужно написать текст задачи для добавления</div>}\n            </div>\n            <button className=\"w-100 btn btn-lg btn-primary\" disabled={!form.username || !form.text || !form.email || validateEmail} onClick={pressHandler} type='button'>Sign in</button>\n        </form>\n    )\n}    "]},"metadata":{},"sourceType":"module"}